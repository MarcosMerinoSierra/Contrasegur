<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html>

<head>
    <title>Contrasenyes segures</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
        function Iniciar() {
            window.alert("Password: " + document.getElementById("password").value);
            // window.alert("Calcul: " + calcul.value);
        }
       
        function Comprovar() {
            window.alert("Comprovar");
            var password = document.getElementById("password").value;
           
            //Comprovam la mida minima
            if (password.length >= 8) {
                document.getElementById("minimcar").checked = true;
            }
           
            for (i = 0; i < password.length; i++) {
                lletra = password.charAt(i);
                if (isNaN(lletra) && (lletra.toUpperCase() === lletra.toLowerCase())) {
                    document.getElementById("especial").checked = true;
                } else if (!isNaN(lletra)) {
                    document.getElementById("numero").checked = true;
                } else if (lletra === lletra.toUpperCase()) {
                    document.getElementById("majuscula").checked = true;
                } else if (lletra === lletra.toLowerCase()) {
                    document.getElementById("minuscula").checked = true;
                }
            }
                                             
            base = 0;
            exponente = password.length;
            if (document.getElementById("numero").checked) {base = base + 10;}
            if (document.getElementById("majuscula").checked) {base = base + 40;}
            if (document.getElementById("minuscula").checked) {base = base + 40;}
            if (document.getElementById("especial").checked) {base = base + 41;}
            calcul = base * exponente / 16;  
            window.alert("Calcul: " + calcul);
           
           costComputacional = Math.pow(base, exponente) / 1e6;
           robustesa= 0;
                if (costComputacional < 1e3) {
                        robustesa=0; 
                    } else if (costComputacional < 1e6) {
                         robustesa=1;
                    } else if (costComputacional < 1e8) {
                        robustesa=2;
                    } else if (costComputacional < 1e10) {
                        robustesa=3;
                    }
            calculanys= costComputacional / (365*24*60*60);
            calculdies =  costComputacional / (24*60*60);
            window.alert( "Password: " + document.getElementById("password").value + 
                    "\n\ - " + costComputacional + "\n\ - " + robustesa +  
                    "\n\ - " + " els anys que s'usarien per esbrinar la teva contrasenya serien: " + calculanys + 
                    "\n\ - " + calculdies);
        
        }
        

    </script>
</head>

<body>
    <img src="img/logo-centre.jpg" alt="" />
    <p>Usuari o correu: <input type="text" name="Usuario"> </p>
    <p>Contrasenya: <input type="password" id="password" onchange="Comprovar();" required></p>
    <p> <button type="button" id="inicisessio" onclick="Iniciar();"> Inciar sessió</button> </p>

    <p> <input type="checkbox" id="minimcar" disabled> Mínim 8 caràcters, </p>
    <p> <input type="checkbox" id="majuscula" disabled> Almenys una lletra majúscula, </p>
    <p> <input type="checkbox" id="minuscula" disabled> almenys una lletra minúscula, </p>
    <p> <input type="checkbox" id="numero" disabled> almenys un número, </p>
    <p> <input type="checkbox" id="especial" disabled> almenys un carácter especial. </p>
   
    <p> Dèbil - Regular - Bona - Forta </p>
    <p> Weak - So-so - Great! - Strong </p>
</body>

</html>
